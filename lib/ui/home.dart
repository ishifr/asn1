import 'package:asn1/asn1parser/helpers/asn1_tree_node.dart';
import 'package:asn1/asn1parser/parse_sequence_to_tree_node.dart';
import 'package:asn1/x509/x509.dart';
import 'package:flutter/material.dart';
import 'package:flutter_fancy_tree_view/flutter_fancy_tree_view.dart';

// String value =
//     "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";

// String value =
//     "MIIEozCCBEmgAwIBAgIQTij3hrZsGjuULNLEDrdCpTAKBggqhkjOPQQDAjCBjzELMAkGA1UEBhMCR0IxGzAZBgNVBAgTEkdyZWF0ZXIgTWFuY2hlc3RlcjEQMA4GA1UEBxMHU2FsZm9yZDEYMBYGA1UEChMPU2VjdGlnbyBMaW1pdGVkMTcwNQYDVQQDEy5TZWN0aWdvIEVDQyBEb21haW4gVmFsaWRhdGlvbiBTZWN1cmUgU2VydmVyIENBMB4XDTI0MDMwNzAwMDAwMFoXDTI1MDMwNzIzNTk1OVowFTETMBEGA1UEAxMKZ2l0aHViLmNvbTBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABARO/Ho9XdkY1qh9mAgjOUkWmXTb05jgRulKciMVBuKB3ZHexvCdyoiCRHEMBfFXoZhWkQVMogNLo/lW215X3pGjggL+MIIC+jAfBgNVHSMEGDAWgBT2hQo7EYbhBH0Oqgss0u7MZHt7rjAdBgNVHQ4EFgQUO2g/NDr1RzTK76ZOPZq9Xm56zJ8wDgYDVR0PAQH/BAQDAgeAMAwGA1UdEwEB/wQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMEkGA1UdIARCMEAwNAYLKwYBBAGyMQECAgcwJTAjBggrBgEFBQcCARYXaHR0cHM6Ly9zZWN0aWdvLmNvbS9DUFMwCAYGZ4EMAQIBMIGEBggrBgEFBQcBAQR4MHYwTwYIKwYBBQUHMAKGQ2h0dHA6Ly9jcnQuc2VjdGlnby5jb20vU2VjdGlnb0VDQ0RvbWFpblZhbGlkYXRpb25TZWN1cmVTZXJ2ZXJDQS5jcnQwIwYIKwYBBQUHMAGGF2h0dHA6Ly9vY3NwLnNlY3RpZ28uY29tMIIBgAYKKwYBBAHWeQIEAgSCAXAEggFsAWoAdwDPEVbu1S58r/OHW9lpLpvpGnFnSrAX7KwB0lt3zsw7CAAAAY4WOvAZAAAEAwBIMEYCIQD7oNz/2oO8VGaWWrqrsBQBzQH0hRhMLm11oeMpg1fNawIhAKWc0q7Z+mxDVYV/6ov7f/i0H/aAcHSCIi/QJcECraOpAHYAouMK5EXvva2bfjjtR2d3U9eCW4SU1yteGyzEuVCkR+cAAAGOFjrv+AAABAMARzBFAiEAyupEIVAMk0c8BVVpF0QbisfoEwy5xJQKQOe8EvMU4W8CIGAIIuzjxBFlHpkqcsa7UZy24y/B6xZnktUw/Ne5q5hCAHcATnWjJ1yaEMM4W2zU3z9S6x3w4I4bjWnAsfpksWKaOd8AAAGOFjrv9wAABAMASDBGAiEA+8OvQzpgRf31uLBsCE8ktCUfvsiRT7zWSqeXliA09TUCIQDcB7Xn97aEDMBKXIbdm5KZ9GjvRyoF9skD5/4GneoMWzAlBgNVHREEHjAcggpnaXRodWIuY29tgg53d3cuZ2l0aHViLmNvbTAKBggqhkjOPQQDAgNIADBFAiEAru2McPr0eNwcWNuDEY0a/rGzXRfRrm+6XfZeSzhYZewCIBq4TUEBCgapv7xvAtRKdVdi/b4m36Uyej1ggyJsiesA";

// const value = "MIICRDCCAcqgAwIBAgIQYw1xy+nIuiQCA77l0E51hjAKBggqhkjOPQQDAjBGMQswCQYDVQQGEwJVWjEZMBcGA1UECgwQVU5JQ09OLVNPRlQgTExDLjEcMBoGA1UEAwwTVU5JQ09OLVNPRlQgRUMgUk9PVDAeFw0yMjAyMDMwODU2MTRaFw00MjAyMDMwODU2MTRaMDwxCzAJBgNVBAYTAlVaMRkwFwYDVQQKDBBVTklDT04tU09GVCBMTEMuMRIwEAYDVQQDDAl0ZXN0LmZpdmUwdjAQBgcqhkjOPQIBBgUrgQQAIgNiAASWAJrnsxdTiMZf45W3MLhseKOUHWRwUsSoLfNzh4bIGnU0zksBMsXa5//QJR4VhG8KR4yHPD20dQ9rhUJNH35c4fjC87NtbG71cL2KnJthnsvf9QwxfUdog7tbnQngClOjgYYwgYMwCQYDVR0TBAIwADAdBgNVHQ4EFgQUJgEmmB4xc/ty7gpewsZHoZCe/jgwHwYDVR0jBBgwFoAUtATAebH9r5s/DSObsOJt8W81ZSUwCwYDVR0PBAQDAgWgMBMGA1UdJQQMMAoGCCsGAQUFBwMBMBQGA1UdEQQNMAuCCXRlc3QuZml2ZTAKBggqhkjOPQQDAgNoADBlAjBqUJu2l54sEjzYwfvfTEW5LyM9Df+Uea2W0Iw7R5UQZ1bvlC1AhpQk/LVnwfoQtuACMQDvtH3Qg/YD2nfYQzIXPwO9qU/8FmrXBRp9zbZ05FRJsJCubaMRIzc0AFwRQuunRrg=";
const value =
    "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";

const x509 =
    '''MIIEozCCBEmgAwIBAgIQTij3hrZsGjuULNLEDrdCpTAKBggqhkjOPQQDAjCBjzELMAkGA1UEBhMCR0IxGzAZBgNVBAgTEkdyZWF0ZXIgTWFuY2hlc3RlcjEQMA4GA1UEBxMHU2FsZm9yZDEYMBYGA1UEChMPU2VjdGlnbyBMaW1pdGVkMTcwNQYDVQQDEy5TZWN0aWdvIEVDQyBEb21haW4gVmFsaWRhdGlvbiBTZWN1cmUgU2VydmVyIENBMB4XDTI0MDMwNzAwMDAwMFoXDTI1MDMwNzIzNTk1OVowFTETMBEGA1UEAxMKZ2l0aHViLmNvbTBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABARO/Ho9XdkY1qh9mAgjOUkWmXTb05jgRulKciMVBuKB3ZHexvCdyoiCRHEMBfFXoZhWkQVMogNLo/lW215X3pGjggL+MIIC+jAfBgNVHSMEGDAWgBT2hQo7EYbhBH0Oqgss0u7MZHt7rjAdBgNVHQ4EFgQUO2g/NDr1RzTK76ZOPZq9Xm56zJ8wDgYDVR0PAQH/BAQDAgeAMAwGA1UdEwEB/wQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMEkGA1UdIARCMEAwNAYLKwYBBAGyMQECAgcwJTAjBggrBgEFBQcCARYXaHR0cHM6Ly9zZWN0aWdvLmNvbS9DUFMwCAYGZ4EMAQIBMIGEBggrBgEFBQcBAQR4MHYwTwYIKwYBBQUHMAKGQ2h0dHA6Ly9jcnQuc2VjdGlnby5jb20vU2VjdGlnb0VDQ0RvbWFpblZhbGlkYXRpb25TZWN1cmVTZXJ2ZXJDQS5jcnQwIwYIKwYBBQUHMAGGF2h0dHA6Ly9vY3NwLnNlY3RpZ28uY29tMIIBgAYKKwYBBAHWeQIEAgSCAXAEggFsAWoAdwDPEVbu1S58r/OHW9lpLpvpGnFnSrAX7KwB0lt3zsw7CAAAAY4WOvAZAAAEAwBIMEYCIQD7oNz/2oO8VGaWWrqrsBQBzQH0hRhMLm11oeMpg1fNawIhAKWc0q7Z+mxDVYV/6ov7f/i0H/aAcHSCIi/QJcECraOpAHYAouMK5EXvva2bfjjtR2d3U9eCW4SU1yteGyzEuVCkR+cAAAGOFjrv+AAABAMARzBFAiEAyupEIVAMk0c8BVVpF0QbisfoEwy5xJQKQOe8EvMU4W8CIGAIIuzjxBFlHpkqcsa7UZy24y/B6xZnktUw/Ne5q5hCAHcATnWjJ1yaEMM4W2zU3z9S6x3w4I4bjWnAsfpksWKaOd8AAAGOFjrv9wAABAMASDBGAiEA+8OvQzpgRf31uLBsCE8ktCUfvsiRT7zWSqeXliA09TUCIQDcB7Xn97aEDMBKXIbdm5KZ9GjvRyoF9skD5/4GneoMWzAlBgNVHREEHjAcggpnaXRodWIuY29tgg53d3cuZ2l0aHViLmNvbTAKBggqhkjOPQQDAgNIADBFAiEAru2McPr0eNwcWNuDEY0a/rGzXRfRrm+6XfZeSzhYZewCIBq4TUEBCgapv7xvAtRKdVdi/b4m36Uyej1ggyJsiesA''';

class Home extends StatefulWidget {
  const Home({super.key});

  @override
  State<Home> createState() => _HomeState();
}

class _HomeState extends State<Home> {
  @override
  Widget build(BuildContext context) {
    print("This is version: ${X509.getTBSCertificate(x509).tBSCertificate}");
    final treeController = TreeController<Asn1TreeNode>(
      roots: [parseSequenceToTreeNode(x509)],
      childrenProvider: (Asn1TreeNode node) => node.children,
    );
    treeController.expandAll();
    return Scaffold(
      appBar: AppBar(title: const Text("ASN1")),
      body: AnimatedTreeView<Asn1TreeNode>(
        padding: const EdgeInsets.all(6),
        treeController: treeController,
        nodeBuilder: (BuildContext context, TreeEntry<Asn1TreeNode> entry) {
          return InkWell(
            onTap: () => treeController.toggleExpansion(entry.node),
            child: TreeIndentation(
              entry: entry,
              child: SelectableText(entry.node.text),
            ),
          );
        },
      ),
    );
  }
}
